<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Restaurant Website Builder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#020617;color:#fff}
.container{max-width:1100px;margin:auto;padding:40px}
input,button{padding:12px;font-size:16px;margin-top:10px;width:100%}
button{background:#38bdf8;border:none;font-weight:bold;cursor:pointer}
iframe{width:100%;height:900px;border:none;margin-top:20px;background:#fff}
</style>
</head>

<body>

<div class="container">
  <h1>üçΩÔ∏è AI Restaurant Website Builder</h1>

  <input id="name" placeholder="Restaurant Name">
  <input id="cuisine" placeholder="Cuisine (Indian, Japanese, etc)">
  <input id="city" placeholder="City / Address">

  <button id="generate">Generate Website</button>
  <button id="download" disabled>Download HTML</button>

  <iframe id="preview"></iframe>
</div>

<script>
const generateBtn = document.getElementById("generate");
const downloadBtn = document.getElementById("download");
const iframe = document.getElementById("preview");

let generatedHTML = "";

generateBtn.onclick = async () => {
  const name = document.getElementById("name").value;
  const cuisine = document.getElementById("cuisine").value;
  const city = document.getElementById("city").value;

  if (!name || !cuisine || !city) {
    alert("Fill all fields");
    return;
  }

  generateBtn.innerText = "Generating...";
  generateBtn.disabled = true;

  try {
    const res = await fetch("/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, cuisine, city })
    });

    const data = await res.json();
    generatedHTML = data.html;
    iframe.srcdoc = generatedHTML;
    downloadBtn.disabled = false;

  } catch (err) {
    alert("Generation failed");
    console.error(err);
  }

  generateBtn.innerText = "Generate Website";
  generateBtn.disabled = false;
};

downloadBtn.onclick = () => {
  const blob = new Blob([generatedHTML], { type: "text/html" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "restaurant-website.html";
  a.click();
};
</script>

</body>
</html>


